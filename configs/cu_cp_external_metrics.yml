# Example srsRAN CU-CP Configuration with External Metrics Collection
# This configuration enables collection of metrics from cAdvisor and Node Exporter

cu_cp:
  amf:
    addr: 127.0.1.100
    bind_addr: 127.0.0.1
    supported_tracking_areas:
      - tac: 7
        plmn_list:
          - plmn: "00101"
            tai_slice_support_list:
              - sst: 1
  e1ap:
    bind_addr: 127.0.20.1
  f1ap:
    bind_addr: 127.0.10.1

# External Metrics Configuration
external_metrics:
  # Enable external metrics collection
  enable: true
  
  # cAdvisor endpoint for Docker container metrics
  # Default: http://localhost:8080/api/v1.3/docker
  cadvisor_endpoint: "http://localhost:8080/api/v1.3/docker"
  
  # Node Exporter endpoint for host system metrics  
  # Default: http://localhost:9100/metrics
  node_exporter_endpoint: "http://localhost:9100/metrics"
  
  # Enable human-readable log output
  enable_log_metrics: true
  
  # Enable JSON output (forwarded to WebSocket subscribers)
  enable_json_metrics: true

# Remote Control Configuration (for WebSocket metrics subscription)
remote_control:
  enabled: true
  bind_address: "0.0.0.0"
  port: 55555
  enable_metrics_subscription: true

# Logging Configuration
log:
  filename: /tmp/cu_cp.log
  all_level: info

# Resource usage metrics (built-in)
rusage:
  enable_app_usage: true
  enable_log_metrics: true
  enable_json_metrics: true

pcap:
  ngap_enable: false
  ngap_filename: /tmp/cu_cp_ngap.pcap
  f1ap_enable: false
  f1ap_filename: /tmp/cu_cp_f1ap.pcap
  e1ap_enable: false
  e1ap_filename: /tmp/cu_cp_e1ap.pcap
