# Example srsRAN CU-UP Configuration with External Metrics Collection
# This configuration enables collection of metrics from cAdvisor and Node Exporter

cu_up:
  e1ap:
    cu_cp_addr: 127.0.20.1
    bind_addr: 127.0.20.2
  ngu:
    socket:
      -
        bind_addr: 127.0.0.1
  f1u:
    socket:
      -
        bind_addr: 127.0.10.1

# External Metrics Configuration
external_metrics:
  # Enable external metrics collection
  enable: true
  
  # cAdvisor endpoint for Docker container metrics
  # Default: http://localhost:8080/api/v1.3/docker
  cadvisor_endpoint: "http://localhost:8080/api/v1.3/docker"
  
  # Node Exporter endpoint for host system metrics  
  # Default: http://localhost:9100/metrics
  node_exporter_endpoint: "http://localhost:9100/metrics"
  
  # Enable human-readable log output
  enable_log_metrics: true
  
  # Enable JSON output (forwarded to WebSocket subscribers)
  enable_json_metrics: true

# Remote Control Configuration (for WebSocket metrics subscription)
remote_control:
  enabled: true
  bind_address: "0.0.0.0"
  port: 55555
  enable_metrics_subscription: true

# Logging Configuration
log:
  filename: /tmp/cu_up.log
  all_level: info

# Resource usage metrics (built-in)
rusage:
  enable_app_usage: true
  enable_log_metrics: true
  enable_json_metrics: true

pcap:
  e1ap_enable: false
  e1ap_filename: /tmp/cu_up_e1ap.pcap
  f1u_enable: false
  f1u_filename: /tmp/cu_up_f1u.pcap
  n3_enable: false
  n3_filename: /tmp/cu_up_n3.pcap
